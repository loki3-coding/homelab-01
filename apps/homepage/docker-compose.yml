services:
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    container_name: homepage
    restart: unless-stopped

    ports:
      - "3001:3000"

    user: "1000:1000"

    volumes:
      - ./config:/app/config
      - ./public:/app/public:ro

    environment:
      - PUID=1000
      - PGID=1000
      - HOMEPAGE_ALLOWED_HOSTS=homelab-01

    security_opt:
      - no-new-privileges:true

    cap_drop:
      - ALL

    read_only: true

    tmpfs:
      - /tmp

    networks:
      - default
      - proxy

networks:
  proxy:
    external: true
